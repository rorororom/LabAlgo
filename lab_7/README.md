# Laba7

## Это седьмая лаба по алгосам на тему "Запросы на отрезках"

### RSQ

Я написала дерево Фенвика и дерево отрезков. Создала их и сделала 1е6 запросов суммы на разных отрезках.

Полученные результаты:

|     Структура       |  Время (с) |
|:-------------------:|:----------:|
| Дерево Фенвика      |  0.113648  |
| Дерево отрезков     |  0.822413  |

### Вывод
Дерево Фенвика работает быстрее, так как оно не использует рекурсии в вычислении суммы отрезка.

Интуитивно понятно, что когда функция вызывается, происходит сохранение текущего состояния функции, включая все локальные переменные, адрес возврата и другую информацию о контексте выполнения, на стеке вызовов. Затем создается новый кадр стека для нового вызова функции. Этот процесс повторяется для каждого рекурсивного вызова, и каждый раз требуется выделение дополнительной памяти на стеке. Создание и удаление каждого кадра стека также требует времени и ресурсов процессора.

Поэтому асимптотическая сложность алгоритмов одинаковая - $O(\log n)$ , но время разное из-за рекурсии.

### RMQ
Реализовала 2 варианта Sparse table:
- храним n строк по $O(\log n)$ элементов
- храним $O(\log n)$ строк по n элементов

Полученные результаты:

|     Вариант                         |  Время (с) |
|:-----------------------------------:|:----------:|
| n строк по $O(\log n)$ элементов  |  0.070513  |
| $O(\log n)$ строк по N элементов  |  0.049153  |

### Вывод

n строк по $O(\log n)$ элементов:
- В большинстве случаев этот вариант будет извлекать данные из кэша, потому что он последовательно обращается к памяти. Однако, если n велико, то последние строки могут быть вытеснены из кэша, что приведет к снижению производительности.

Про $O(\log n)$ строк по n элементов:
- Этот вариант может не всегда извлекать данные из кэша, потому что обращения к памяти могут быть не совсем последовательными. Однако благодаря меньшей длине строк данные с большей вероятностью будут оставаться в кэше.

Именно из-за кэшей второй вариант выигрывает первого по времени, так как n у нас очень большое (1е6).



